@model IEnumerable<TicketViewModel>
@{ ViewBag.Title = "Ticket Home";}
<h2>@ViewBag.Title</h2>
<form asp-action="FilterByStatus" method="post">
    <select onchange="this.form.submit()" name="TicketStatus" asp-items="Html.GetEnumSelectList<TicketStatus>()">
        <option disabled selected>Filter By Status</option>

    </select>
</form>
<form asp-action="FilterByDate" method="post">
    <select onchange="this.form.submit()" name="DateFilter" asp-items="Html.GetEnumSelectList<DateFilter>()">
        <option disabled selected>Filter By Date</option>

    </select>
</form>
<table class="table table-hover table-responsive">
    <tr>
        <th>@Html.DisplayNameFor(model => model.Ticket.TicketNumber)</th>
        <th>@Html.DisplayNameFor(model => model.Ticket.TicketStatus)</th>
        <th>@Html.DisplayNameFor(model => model.Ticket.Device.Customer)</th>
        <th>@Html.DisplayNameFor(model => model.Ticket.CheckedIn)</th>
        <th>@Html.DisplayNameFor(model => model.Log.Logged)</th>
        <th>@Html.DisplayNameFor(model => model.Ticket.NeedsBackup)</th>
        <th>@Html.DisplayNameFor(model => model.Log.Notes)</th>
        <th></th>
    </tr>
    @foreach (var ticket in Model)
    {
        @await Html.PartialAsync("_TicketTableRow", ticket)
    }
</table>